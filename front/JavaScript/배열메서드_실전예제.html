<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 1. 상품 가격에 부가세(10%) 추가하기 (map, 새로운 배열을 만듦)
        // map은 단순한 계산 이외에 객체를 생성할 수 있음 (새로운 배열 생성)
        // 객체를 생성할 때에는 반드시 .map({ 객체의 내용 }) 과 같이 소괄호로 감싸주어야 함 
        const elecProducts = [
            { name: '노트북', price: 1000000 },
            { name: '마우스', price: 30000 },
            { name: '키보드', price: 80000 }
        ];

        const productsWithTax = elecProducts.map(e => ({   // 파라미터: e, 함수: =>
            name: e.name,
            price: e.price,
            priceWithTax: e.price * 1.1  // 함수에 e를 넣어 새로운 객체 배열을 만듦 (산출물)
        }));

        console.log(productsWithTax);
        //  출력:
        //   [
        //      { name: '노트북', price: 1000000, priceWithTax: 11000000 },
        //      { name: '마우스', price: 30000, priceWithTax: 330000 },
        //      { name: '키보드', price: 80000, priceWithTax: 880000 },
        //  ]



        // 2. 재고 있는 상품만 필터링하기 (filter)
        // 쇼핑몰에서 품절된 상품을 제외하고 판매 가능한 상품만 표시하기
        // filter: 조건에 맞는 데이터를 추리는 데 사용
        const inventory = [
            { product: '티셔츠', stock: 15 },
            { product: '청바지', stock: 0 },
            { product: '모자', stock: 8 },
            { product: '양말', stock: 0 },
            { product: '신발', stock: 3 }
        ];

        const availableProducts = inventory.filter(item => item.stock > 0);

        console.log(availableProducts);
        // 출력:
        //  [
        //     { product: '티셔츠', stock: 15 }
        //     { product: '모자', stock: 8 }
        //     { product: '신발', stock: 3 }
        // ]



        // 3. 사용자 이름만 추출하기 (map)
        // API에서 받은 사용자 데이터에서 이름만 추출하여 드롭다운 메뉴에 표시하기
        const users = [
            { id: 1, name: '김철수', email: 'kim@example.com' },
            { id: 2, name: '이영희', email: 'lee@example.com' },
            { id: 3, name: '박민수', email: 'park@example.com' },
        ];

        const userNames = users.map(user => user.name);

        console.log(userNames);
        // 출력: ['김철수', '이영희', '박민수']



        // 4. 성인 사용자만 필터링하기 (filter)
        // 성인 인증이 필요한 콘텐츠를 위해 19세 이상 사용자만 필터링
        const members = [
            { name: '홍길동', age: 25 },
            { name: '김영희', age: 17 },
            { name: '이철수', age: 32 },
            { name: '박민지', age: 16 },
            { name: '최지훈', age: 28 }
        ];

        const adults = members.filter(member => member.age >= 19);

        console.log(adults);
        // 출력: 
        //  [
        //    { name: '홍길동' age: 25 }
        //    { name: '이철수' age: 32 }
        //    { name: '최지훈' age: 28 }
        // ]



        // 5. 댓글 작성 시간 포맷팅하기 (map)
        // 블로그나 SNS에서 타임스탬프를 사용자가 읽기 쉬운 형태로 변환함
        const comments = [
            { user: '김철수', text: '좋은 글이네요!', timestamp: 1704067200000 },
            { user: '이영희', text: '감사합니다.', timestamp: 1704153600000 },
            { user: '박민수', text: '도움이 됐어요.', timestamp: 1704240000000 },
        ];

        const formattedComments = comments.map(comment => ({
            user: comment.user,
            text: comment.text,
            date: new Date(comment.timestamp).toLocaleDateString('ko-KR')
        }));

        console.log(formattedComments);
        // 출력:
        //  [
        //     { user: '김철수', text: '좋은 글이네요!', date: '2024. 1. 1.' },
        //     { user: '이영희', text: '감사합니다.', date: '2024. 1. 2.' },
        //     { user: '박민수', text: '도움이 됐어요.', date: '2024. 1. 3.' },
        // ]



        // 6. 특정 카테고리 상품만 가져오기 (filter)
        // 전자제품 카테고리만 따로 표시하는 페이지 제작
        const products = [
            { name: '노트북', category: '전자제품', price: 1200000 },
            { name: '책상', category: '가구', price: 150000 },
            { name: '마우스', category: '전자제품', price: 35000 },
            { name: '의자', category: '가구', price: 200000 },
            { name: '키보드', category: '전자제품', price: 80000 },
        ];

        const electronics = products.filter(product => product.category === '전자제품');

        console.log(electronics);
        // 출력:
        //  [
        //      { name: '노트북', category: '전자제품', price: 1200000 },
        //      { name: '마우스', category: '전자제품', price: 35000 },
        //      { name: '키보드', category: '전자제품', price: 80000 }
        // ]



        // 7. 검색어로 상품 필터링하기 (filter)
        // 사용자가 입력한 검색어로 상품명을 검색하는 기능을 구현
        const products1 = [
            { id: 1, name: '삼성 노트북' },
            { id: 2, name: 'LG 노트북' },
            { id: 3, name: '삼성 스마트폰' },
            { id: 4, name: '애플 아이패드' },
            { id: 5, name: '삼성 태블릿' }
        ];

        const searchKeyword = '삼성'

        const searchResults = products1.filter(product =>
            product.name.includes(searchKeyword));

        console.log(searchResults);
        // 출력: 
        //  [
        //    { id: 1, name: '삼성 노트북' }
        //    { id: 3, name: '삼성 스마트폰' }
        //    { id: 5, name: '삼성 태블릿' }
        // ]



        // 8. 가격 범위로 필터링하고 포맷팅하기 (filter + map)
        // 특정 가격 범위의 상품만 보여주고, 가격을 원화 표시로 포맷팅
        const gears = [
            { name: '이어폰', price: 25000 },
            { name: '헤드폰', price: 150000 },
            { name: '스피커', price: 80000 },
            { name: '마이크', price: 45000 },
            { name: '앰프', price: 200000 }
        ]

        const result = gears
            .filter(product => product.price >= 50000 && product.price <= 150000)
            .map(product => ({
                name: product.name,
                price: `${product.price.toLocaleString()}원`
            }));

        console.log(result);



        // 9. 주문 아이템 총액 계산하기 (map)
        // 각 주문의 수량과 가격을 곱해서 개별 총액 계산
        const orderItems = [
            { product: '사과', price: 3000, quantity: 5 },
            { product: '바나나', price: 2000, quantity: 3 },
            { product: '오렌지', price: 4000, quantity: 2 }
        ];

        const itemWithTotal = orderItems.map(item => ({
            product: item.product,
            price: item.price,
            quantity: item.quantity,
            total: item.price * item.quantity
        }));

        console.log(itemWithTotal);
        // 출력:
        //  [
        //    { product: '사과', price: 3000, quantity: 5, total: 15000 },
        //    { product: '바나나', price: 2000, quantity: 3, total: 6000 },
        //    { product: '오렌지', price: 4000, quantity: 2, total: 8000 },
        // ]



        // 10. 활성 사용자의 이메일 목록 추출하기 (filter + map)
        // 뉴스레터를 보내기 위해 활성 사용자의 이메일 주소만 추출
        const usersList = [
            { name: '김철수', email: 'kim@example.com', isActive: true },
            { name: '이영희', email: 'lee@example.com', isActive: false },
            { name: '박민수', email: 'park@example.com', isActive: true },
            { name: '정지은', email: 'jung@example.com', isActive: false },
            { name: '최유진', email: 'choi@example.com', isActive: true }
        ];

        const emailList = userList
            .filter(user => user.isActive)
            .map(user => user.email)

        console.log(emailList);
        // 출력:
        // ['kim@example.com', 'park@example.com', 'choi@example.com']
    </script>
</body>

</html>