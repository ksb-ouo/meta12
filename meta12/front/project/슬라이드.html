<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        /* 슬라이더 컨테이너: 전체적인 크기와 위치 기준점 설정 */
        .slider-container {
            width: 800px;
            /* 슬라이더 너비 */
            height: 400px;
            /* 슬라이더 높이 */
            margin: 50px auto;
            /* 중앙 정렬 */
            position: relative;
            /* 버튼 배치를 위한 기준점 */
            overflow: hidden;
            /* 넘치는 이미지 숨기기 */
            border-radius: 10px;
            /* 모서리 둥글게 */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            /* 그림자 효과 */
        }

        /* 슬라이더 래퍼: 이미지들을 가로로 일렬 배치하고 움직이는 역할 */
        .slider-wrapper {
            display: flex;
            /* 가로 배치 */
            width: 100%;
            height: 100%;
            /* 부드러운 이동 효과 (0.5초 동안 ease-in-out 방식으로 변형) */
            transition: transform 0.5s ease-in-out;
        }

        /* 개별 슬라이드: 래퍼 안에서 공간을 꽉 채우도록 설정 */
        .slide {
            width: 100%;
            /* 컨테이너 너비만큼 차지 */
            flex-shrink: 0;
            /* 공간이 부족해도 줄어들지 않음 */
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* 이미지 비율 유지하며 꽉 채우기 */
        }

        /* 이전/다음 버튼 스타일 */
        .prev-btn,
        .next-btn {
            position: absolute;
            /* 컨테이너 기준 절대 위치 */
            top: 50%;
            /* 수직 중앙 */
            transform: translateY(-50%);
            /* 정확한 중앙 정렬 보정 */
            background-color: rgba(0, 0, 0, 0.5);
            /* 반투명 검은 배경 */
            color: white;
            border: none;
            padding: 15px;
            cursor: pointer;
            font-size: 24px;
            z-index: 10;
            /* 이미지 위에 오도록 */
            transition: background-color 0.3s;
        }

        .prev-btn:hover,
        .next-btn:hover {
            background-color: rgba(0, 0, 0, 0.8);
            /* 마우스 올리면 진하게 */
        }

        .prev-btn {
            left: 10px;
        }

        /* 왼쪽 배치 */
        .next-btn {
            right: 10px;
        }

        /* 오른쪽 배치 */

        /* 동그라미 네비게이션 버튼 컨테이너 */
        .dots-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            /* 수평 중앙 정렬 */
            display: flex;
        }

        /* 개별 동그라미 스타일 */
        .dot {
            width: 12px;
            height: 12px;
            margin: 0 5px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        /* 현재 활성화된 동그라미 스타일 */
        .dot.active {
            background-color: white;
            /* 활성화되면 흰색 */
            transform: scale(1.2);
            /* 약간 커짐 */
        }
    </style>
</head>

<body>
    <div class="slider-container">
        <div class="slider-wrapper">
            <div class="slide">
                <img src="https://picsum.photos/id/100/800" alt="슬라이드 1" />
            </div>
            <div class="slide">
                <img src="https://picsum.photos/id/140/800" alt="슬라이드 2" />
            </div>
            <div class="slide">
                <img src="https://picsum.photos/id/200/800" alt="슬라이드 3" />
            </div>
            <div class="slide">
                <img src="https://picsum.photos/id/250/800" alt="슬라이드 4" />
            </div>
        </div>

        <button class="prev-btn">&#10094;</button>
        <button class="next-btn">&#10095;</button>
        <div class="dots-container"></div>
    </div>
    <script>
        let currentIndex = 0;
        let slideInterval;
        // querySelectorAll은 slide 클래스 모두를 배열로 저장
        const slides = document.querySelectorAll(".slide");
        const sliderWrapper = document.querySelector(".slider-wrapper");
        const dotsContainer = document.querySelector(".dots-container");

        // 이전(왼쪽) 슬라이드로 이동. 목적은 보여줘야할 슬라이드의 index를 찾는것
        function prevSlide() {
            if (currentIndex == 0) {
                currentIndex = slides.length - 1;
            } else {
                currentIndex--;
            }
            sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
        }
        // 다음(오른쪽) 슬라이드로 이동. 목적은 보여줘야할 슬라이드의 index를 찾는것
        function nextSlide() {
            if (currentIndex == slides.length - 1) {
                currentIndex = 0;
            } else {
                currentIndex++;
            }
            sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
        }

        function createDots() {
            slides.forEach((slide, index) => {
                const dot = document.createElement("div");
                dot.classList.add("dot");
                dot.onclick = function () {
                    currentIndex = index;
                    sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
                    updateDots();
                };
                dotsContainer.appendChild(dot);
            });
        }

        function updateDots() {
            const dots = document.querySelectorAll(".dot");
            dots.forEach((dot, index) => {
                index === currentIndex
                    ? dot.classList.add("active")
                    : dot.classList.remove("active");
            });
        }

        // 9. 자동 재생 시작 (3초마다 nextSlide 실행)
        function startAutoSlide() {
            slideInterval = setInterval(nextSlide, 3000);
        }

        // 10. 자동 재생 멈춤
        function stopAutoSlide() {
            clearInterval(slideInterval);
        }

        // 버튼 클릭 이벤트 등록
        const nextBtn = document.querySelector(".next-btn");
        const prevBtn = document.querySelector(".prev-btn");
        nextBtn.addEventListener("click", nextSlide); // 함수의 이름만 사용
        prevBtn.addEventListener("click", prevSlide); // 함수의 이름만 사용

        // 마우스 호버 시 자동 재생 멈춤/재개 기능
        const sliderContainer = document.querySelector(".slider-container");
        sliderContainer.addEventListener("mouseenter", stopAutoSlide); // 마우스 올리면 멈춤
        sliderContainer.addEventListener("mouseleave", startAutoSlide); // 마우스 떼면 다시 시작

        createDots();
        startAutoSlide();
    </script>
</body>

</html>